---
title: "Dynamic Report"
date: \today
output: 
    pdf_document:
#      citation_package: natbib
#      fig_caption: true
#      keep_tex: true
      latex_engine: xelatex
      includes:
        in_header: header.tex
params:
      Salary: NA
      birthday: NA
      Road2Retirement: NA
      SalaryGrowthRate: NA
      CurrentP2: NA
      P2purchase: NA
      TypePurchase: NA
      rate: NA
      P3purchase: NA
      CurrentP3: NA
      returnP3: NA
      postalcode: NA
      Kanton: NA
      Tariff: NA
      NKids: NA
      MaxContrTax: NA
      retirementdate: NA
      BarGraphData: NA
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(googleVis)
library(plotly)
```


## R Markdown

```{r}
params$Salary
params$birthday
params$Road2Retirement
params$SalaryGrowthRate
params$CurrentP2
params$P2purchase
params$TypePurchase
params$rate
params$P3purchase
params$CurrentP3
params$returnP3
params$postalcode
params$Kanton
params$Tariff
params$NKids
params$MaxContrTax
params$retirementdate
disclaimer <- paste("Disclaimer:",
      "The results of this calculations do not have any legal value.",
      "To check the details of the calculations, parameters and assumptions, please, download the report.",sep="\n")
params$BarGraphData


plot2 <-gvisBarChart(data = params$BarGraphData,
             xvar = "contribution",
             yvar= colnames(params$BarGraphData)[!grepl("contribution", colnames(params$BarGraphData))],
             options = list(width = 1200, height = 300, isStacked = TRUE, vAxes = "[{minValue:0}]", legend = "none")
    )


```

<!-- \includegraphics[width=2in]{data/plot2.png} -->

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

## Dummy

more dummy text to get to the next page

## Dummy

more dummy text to get to the next page

## Dummy

more dummy text to get to the next page


